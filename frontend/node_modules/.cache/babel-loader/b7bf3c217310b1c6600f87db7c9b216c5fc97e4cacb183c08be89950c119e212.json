{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import MatrixInput from'./components/MatrixInput';import RouteResult from'./components/RouteResult';import RouteVisualizer from'./components/RouteVisualizer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const optimizeRoute=async matrix=>{setLoading(true);setError('');setResult(null);try{// Use relative path for API calls - Vercel will handle routing\nconst apiEndpoint=process.env.NODE_ENV==='production'?'/api/optimize-route':'http://localhost:5000/optimize-route';const response=await fetch(apiEndpoint,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({matrix})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Failed to optimize route');}const data=await response.json();setResult(data);}catch(err){setError(err.message);}finally{setLoading(false);}};const clearResults=()=>{setResult(null);setError('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDE9A Smart Delivery Route Optimizer\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Solve the Traveling Salesman Problem with the Held-Karp Algorithm\"})]}),/*#__PURE__*/_jsx(\"main\",{className:\"App-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-section\",children:[/*#__PURE__*/_jsx(MatrixInput,{onOptimize:optimizeRoute,loading:loading,onClear:clearResults}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u274C Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"results-section\",children:[/*#__PURE__*/_jsx(RouteResult,{result:result}),/*#__PURE__*/_jsx(RouteVisualizer,{route:result.route})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"App-footer\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Built with React & Node.js | Algorithm: Held-Karp Dynamic Programming\"})})]});}export default App;","map":{"version":3,"names":["React","useState","MatrixInput","RouteResult","RouteVisualizer","jsx","_jsx","jsxs","_jsxs","App","result","setResult","loading","setLoading","error","setError","optimizeRoute","matrix","apiEndpoint","process","env","NODE_ENV","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","data","err","clearResults","className","children","onOptimize","onClear","route"],"sources":["/workspaces/Smart-Delivery-Route-Optimizer/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport MatrixInput from './components/MatrixInput';\nimport RouteResult from './components/RouteResult';\nimport RouteVisualizer from './components/RouteVisualizer';\n\nfunction App() {\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const optimizeRoute = async (matrix) => {\n    setLoading(true);\n    setError('');\n    setResult(null);\n\n    try {\n      // Use relative path for API calls - Vercel will handle routing\n      const apiEndpoint = process.env.NODE_ENV === 'production' \n        ? '/api/optimize-route' \n        : 'http://localhost:5000/optimize-route';\n        \n      const response = await fetch(apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ matrix }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to optimize route');\n      }\n\n      const data = await response.json();\n      setResult(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clearResults = () => {\n    setResult(null);\n    setError('');\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>üöö Smart Delivery Route Optimizer</h1>\n        <p>Solve the Traveling Salesman Problem with the Held-Karp Algorithm</p>\n      </header>\n\n      <main className=\"App-main\">\n        <div className=\"container\">\n          <div className=\"input-section\">\n            <MatrixInput \n              onOptimize={optimizeRoute} \n              loading={loading}\n              onClear={clearResults}\n            />\n            \n            {error && (\n              <div className=\"error-message\">\n                <h3>‚ùå Error</h3>\n                <p>{error}</p>\n              </div>\n            )}\n          </div>\n\n          {result && (\n            <div className=\"results-section\">\n              <RouteResult result={result} />\n              <RouteVisualizer route={result.route} />\n            </div>\n          )}\n        </div>\n      </main>\n\n      <footer className=\"App-footer\">\n        <p>Built with React & Node.js | Algorithm: Held-Karp Dynamic Programming</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}